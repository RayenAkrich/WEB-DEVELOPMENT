<div class="produits-container">
  <h2>ðŸ›’ Gestion des Produits</h2>
  <p class="subtitle">DÃ©monstration de [ngStyle] pour des styles dynamiques</p>

  <!-- Liste des produits -->
  <div class="produits-list">
    <div *ngFor="let produit of produits" class="produit-card">
      <div class="produit-header">
        <h3>{{ produit.nom }}</h3>
        <span class="stock-icon">{{ getStockIcon(produit.stock) }}</span>
      </div>
      
      <div class="produit-info">
        <p class="stock-label">Niveau de stock :</p>
        <p 
          class="stock-value"
          [ngStyle]="{
            'color': getStockColor(produit.stock),
            'font-weight': produit.stock < 20 ? 'bold' : 'normal',
            'font-size': produit.stock < 20 ? '1.2rem' : '1rem'
          }">
          {{ produit.stock }} unitÃ©s
        </p>
      </div>

      <!-- Barre de progression visuelle -->
      <div class="stock-bar-container">
        <div 
          class="stock-bar"
          [ngStyle]="{
            'width': (produit.stock > 100 ? 100 : produit.stock) + '%',
            'background-color': getStockColor(produit.stock)
          }">
        </div>
      </div>

      <!-- Boutons de contrÃ´le -->
      <div class="produit-actions">
        <button 
          class="btn btn-decrease"
          (click)="updateStock(produit, -5)"
          [disabled]="produit.stock <= 0">
          - 5
        </button>
        <button 
          class="btn btn-increase"
          (click)="updateStock(produit, 5)">
          + 5
        </button>
      </div>

      <!-- Statut avec ngStyle multiple -->
      <div 
        class="status-badge"
        [ngStyle]="{
          'background-color': getStockColor(produit.stock),
          'color': 'white',
          'padding': '5px 10px',
          'border-radius': '5px',
          'text-align': 'center',
          'margin-top': '10px'
        }">
        {{ produit.stock > 50 ? 'Stock Suffisant' : 
           produit.stock >= 20 ? 'Stock Moyen' : 
           'Rupture Imminente' }}
      </div>
    </div>
  </div>

  <!-- Formulaire d'ajout -->
  <div class="add-produit-form">
    <h3>Ajouter un nouveau produit</h3>
    <div class="form-group">
      <input 
        type="text" 
        [(ngModel)]="nouveauProduit.nom"
        placeholder="Nom du produit"
        class="form-input">
      <input 
        type="number" 
        [(ngModel)]="nouveauProduit.stock"
        placeholder="Stock initial"
        class="form-input">
      <button 
        class="btn btn-add"
        (click)="addProduit()"
        [disabled]="!nouveauProduit.nom || nouveauProduit.stock < 0">
        Ajouter
      </button>
    </div>
  </div>

  <!-- Statistiques -->
  <div class="stats-section">
    <h3>ðŸ“Š Statistiques</h3>
    <div class="stats-grid">
      <div 
        class="stat-card"
        [ngStyle]="{'background-color': '#e8f5e9'}">
        <p class="stat-label">Stock Ã©levÃ© (>50)</p>
        <p class="stat-value">{{ getProduitsByStock('high').length }}</p>
      </div>
      <div 
        class="stat-card"
        [ngStyle]="{'background-color': '#fff3e0'}">
        <p class="stat-label">Stock moyen (20-50)</p>
        <p class="stat-value">{{ getProduitsByStock('medium').length }}</p>
      </div>
      <div 
        class="stat-card"
        [ngStyle]="{'background-color': '#ffebee'}">
        <p class="stat-label">Stock faible (<20)</p>
        <p class="stat-value">{{ getProduitsByStock('low').length }}</p>
      </div>
    </div>
  </div>
</div>
